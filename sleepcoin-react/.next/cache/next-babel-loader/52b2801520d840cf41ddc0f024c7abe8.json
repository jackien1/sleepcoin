{"ast":null,"code":"import \"antd/lib/modal/style/css\";\nimport _Modal from \"antd/lib/modal\";\nimport \"antd/lib/button/style/css\";\nimport _Button from \"antd/lib/button\";\nimport \"antd/lib/input/style/css\";\nimport _Input from \"antd/lib/input\";\nimport \"antd/lib/tag/style/css\";\nimport _Tag from \"antd/lib/tag\";\nimport \"antd/lib/card/style/css\";\nimport _Card from \"antd/lib/card\";\nvar _jsxFileName = \"/Users/jackieni/dev/hackathon/sleepcoin/sleepcoin-react/pages/dashboard.js\";\nvar __jsx = React.createElement;\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { logoutUser, getUser, getCampaigns } from \"../redux/actions\";\nimport axios from \"axios\";\nimport Router from \"next/router\";\nimport Web3 from \"web3\";\n\nclass Dashboard extends Component {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"state\", {\n      value: \"\",\n      visible: false,\n      title: \"\",\n      description: \"\",\n      quantity: \"\",\n      price: \"\"\n    });\n\n    _defineProperty(this, \"renderCampaigns\", () => {\n      return this.props.auth.campaigns.map(campaign => {\n        return __jsx(_Card, {\n          title: campaign.meta[\"0\"],\n          style: {\n            width: \"40vw\",\n            marginTop: 20\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 27\n          },\n          __self: this\n        }, __jsx(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 31\n          },\n          __self: this\n        }, \" Description: \", campaign.meta[\"1\"], \" \"), __jsx(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 32\n          },\n          __self: this\n        }, \" Quantity: \", campaign.meta[\"2\"], \" \"), __jsx(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 33\n          },\n          __self: this\n        }, \" Price: \", campaign.meta[\"3\"], \" \"), __jsx(\"div\", {\n          style: {\n            fontSize: \"0.8vw\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 34\n          },\n          __self: this\n        }, \" \", campaign.meta[\"4\"], \" \"), campaign.meta[\"5\"].map(person => {\n          return __jsx(\"div\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 36\n            },\n            __self: this\n          }, \" \", person, \" \");\n        }));\n      });\n    });\n  }\n\n  componentDidMount() {\n    this.props.getUser();\n    this.props.getCampaigns();\n  }\n\n  render() {\n    console.log(this.props.auth.campaigns);\n    const web3 = new Web3(\"https://rinkeby.infura.io/v3/964044c29b2a4c4794a25b2af7175ccf\");\n    return __jsx(\"div\", {\n      style: {\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        flexDirection: \"column\",\n        height: \"100vh\",\n        width: \"100vw\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }, __jsx(\"div\", {\n      style: {\n        fontWeight: \"bold\",\n        fontSize: \"4vw\",\n        fontFamily: \"BlinkMacSystemFont\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, \"Dashboard\"), __jsx(_Tag, {\n      color: \"magenta\",\n      style: {\n        marginTop: \"1vw\",\n        fontSize: \"1vw\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, \"Address: \", this.props.auth.user.address), __jsx(_Tag, {\n      color: \"red\",\n      style: {\n        marginTop: \"1vw\",\n        fontSize: \"1vw\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, \"Balance:\", \" \", this.props.auth.user.dappBalance ? this.props.auth.user.dappBalance : \"0\"), __jsx(_Tag, {\n      color: \"volcano\",\n      style: {\n        marginTop: \"1vw\",\n        fontSize: \"1vw\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, \"Ether Address: \", this.props.auth.user.ethAddress), __jsx(_Tag, {\n      color: \"orange\",\n      style: {\n        marginTop: \"1vw\",\n        fontSize: \"1vw\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, \"Ether Balance:\", \" \", this.props.auth.user.ethBalance ? this.props.auth.user.ethBalance : \"0\"), __jsx(\"div\", {\n      style: {\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        marginTop: \"1vw\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, __jsx(_Input, {\n      placeholder: \"Value\",\n      onChange: event => {\n        this.setState({\n          value: event.target.value\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }), __jsx(_Button, {\n      type: \"link\",\n      style: {\n        fontSize: \"1vw\",\n        color: \"#1890ff\"\n      },\n      onClick: async () => {\n        axios.defaults.headers.common[\"Authorization\"] = localStorage.getItem(\"jwtToken\");\n        await axios({\n          method: \"post\",\n          url: \"http://localhost:5000/api/gateway/addBalance\",\n          data: {\n            value: web3.utils.toWei(this.state.value.toString(), \"ether\")\n          }\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, \"Add Funds\")), __jsx(_Button, {\n      type: \"link\",\n      style: {\n        fontSize: \"1vw\",\n        color: \"red\"\n      },\n      onClick: () => this.props.logoutUser(() => {\n        Router.push(\"/\");\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    }, \"Logout\"), __jsx(\"div\", {\n      style: {\n        fontSize: \"2vw\",\n        fontFamily: \"BlinkMacSystemFont\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132\n      },\n      __self: this\n    }, \"Campaigns\"), __jsx(_Button, {\n      type: \"link\",\n      style: {\n        fontSize: \"1vw\"\n      },\n      onClick: () => {\n        this.setState({\n          visible: true\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140\n      },\n      __self: this\n    }, \" \", \"Create Campaign\", \" \"), this.renderCampaigns(), __jsx(_Modal, {\n      visible: this.state.visible,\n      onCancel: () => {\n        this.setState({\n          visible: false\n        });\n      },\n      footer: null,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153\n      },\n      __self: this\n    }, __jsx(_Input, {\n      placeholder: \"Title\",\n      style: {\n        marginTop: \"1vw\"\n      },\n      onChange: event => {\n        this.setState({\n          title: event.target.value\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160\n      },\n      __self: this\n    }), __jsx(_Input, {\n      placeholder: \"Description\",\n      style: {\n        marginTop: \"1vw\"\n      },\n      onChange: event => {\n        this.setState({\n          description: event.target.value\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167\n      },\n      __self: this\n    }), __jsx(_Input, {\n      placeholder: \"Quantity\",\n      style: {\n        marginTop: \"1vw\"\n      },\n      onChange: event => {\n        this.setState({\n          quantity: event.target.value\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174\n      },\n      __self: this\n    }), __jsx(_Input, {\n      placeholder: \"Price\",\n      style: {\n        marginTop: \"1vw\"\n      },\n      onChange: event => {\n        this.setState({\n          price: event.target.value\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181\n      },\n      __self: this\n    }), __jsx(\"div\", {\n      style: {\n        display: \"flex\",\n        justifyContent: \"flex-end\",\n        marginTop: 10\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189\n      },\n      __self: this\n    }, __jsx(_Button, {\n      type: \"primary\",\n      onClick: async () => {\n        axios.defaults.headers.common[\"Authorization\"] = localStorage.getItem(\"jwtToken\");\n        await axios({\n          method: \"post\",\n          url: \"http://localhost:5000/api/shop/request\",\n          data: {\n            title: this.state.title,\n            description: this.state.description,\n            quantity: this.state.quantity,\n            price: this.state.price\n          }\n        });\n        this.setState({\n          visible: false\n        });\n        this.props.getCampaigns();\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196\n      },\n      __self: this\n    }, \"Submit\"))));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  const {\n    auth\n  } = state;\n  return {\n    auth\n  };\n};\n\nexport default connect(mapStateToProps, {\n  logoutUser,\n  getUser,\n  getCampaigns\n})(Dashboard);","map":{"version":3,"sources":["/Users/jackieni/dev/hackathon/sleepcoin/sleepcoin-react/pages/dashboard.js"],"names":["React","Component","connect","logoutUser","getUser","getCampaigns","axios","Router","Web3","Dashboard","value","visible","title","description","quantity","price","props","auth","campaigns","map","campaign","meta","width","marginTop","fontSize","person","componentDidMount","render","console","log","web3","display","justifyContent","alignItems","flexDirection","height","fontWeight","fontFamily","user","address","dappBalance","ethAddress","ethBalance","event","setState","target","color","defaults","headers","common","localStorage","getItem","method","url","data","utils","toWei","state","toString","push","renderCampaigns","mapStateToProps"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { Tag, Button, Input, Modal, Card } from \"antd\";\nimport { connect } from \"react-redux\";\nimport { logoutUser, getUser, getCampaigns } from \"../redux/actions\";\nimport axios from \"axios\";\nimport Router from \"next/router\";\nimport Web3 from \"web3\";\n\nclass Dashboard extends Component {\n  componentDidMount() {\n    this.props.getUser();\n    this.props.getCampaigns();\n  }\n\n  state = {\n    value: \"\",\n    visible: false,\n    title: \"\",\n    description: \"\",\n    quantity: \"\",\n    price: \"\"\n  };\n\n  renderCampaigns = () => {\n    return this.props.auth.campaigns.map(campaign => {\n      return (\n        <Card\n          title={campaign.meta[\"0\"]}\n          style={{ width: \"40vw\", marginTop: 20 }}\n        >\n          <div> Description: {campaign.meta[\"1\"]} </div>\n          <div> Quantity: {campaign.meta[\"2\"]} </div>\n          <div> Price: {campaign.meta[\"3\"]} </div>\n          <div style={{ fontSize: \"0.8vw\" }}> {campaign.meta[\"4\"]} </div>\n          {campaign.meta[\"5\"].map(person => {\n            return <div> {person} </div>;\n          })}\n        </Card>\n      );\n    });\n  };\n\n  render() {\n    console.log(this.props.auth.campaigns);\n    const web3 = new Web3(\n      \"https://rinkeby.infura.io/v3/964044c29b2a4c4794a25b2af7175ccf\"\n    );\n\n    return (\n      <div\n        style={{\n          display: \"flex\",\n          justifyContent: \"center\",\n          alignItems: \"center\",\n          flexDirection: \"column\",\n          height: \"100vh\",\n          width: \"100vw\"\n        }}\n      >\n        <div\n          style={{\n            fontWeight: \"bold\",\n            fontSize: \"4vw\",\n            fontFamily: \"BlinkMacSystemFont\"\n          }}\n        >\n          Dashboard\n        </div>\n        <Tag color=\"magenta\" style={{ marginTop: \"1vw\", fontSize: \"1vw\" }}>\n          Address: {this.props.auth.user.address}\n        </Tag>\n        <Tag color=\"red\" style={{ marginTop: \"1vw\", fontSize: \"1vw\" }}>\n          Balance:{\" \"}\n          {this.props.auth.user.dappBalance\n            ? this.props.auth.user.dappBalance\n            : \"0\"}\n        </Tag>\n        <Tag color=\"volcano\" style={{ marginTop: \"1vw\", fontSize: \"1vw\" }}>\n          Ether Address: {this.props.auth.user.ethAddress}\n        </Tag>\n        <Tag color=\"orange\" style={{ marginTop: \"1vw\", fontSize: \"1vw\" }}>\n          Ether Balance:{\" \"}\n          {this.props.auth.user.ethBalance\n            ? this.props.auth.user.ethBalance\n            : \"0\"}\n        </Tag>\n        <div\n          style={{\n            display: \"flex\",\n            justifyContent: \"center\",\n            alignItems: \"center\",\n            marginTop: \"1vw\"\n          }}\n        >\n          <Input\n            placeholder=\"Value\"\n            onChange={event => {\n              this.setState({ value: event.target.value });\n            }}\n          />\n          <Button\n            type=\"link\"\n            style={{ fontSize: \"1vw\", color: \"#1890ff\" }}\n            onClick={async () => {\n              axios.defaults.headers.common[\n                \"Authorization\"\n              ] = localStorage.getItem(\"jwtToken\");\n\n              await axios({\n                method: \"post\",\n                url: \"http://localhost:5000/api/gateway/addBalance\",\n                data: {\n                  value: web3.utils.toWei(this.state.value.toString(), \"ether\")\n                }\n              });\n            }}\n          >\n            Add Funds\n          </Button>\n        </div>\n        <Button\n          type=\"link\"\n          style={{ fontSize: \"1vw\", color: \"red\" }}\n          onClick={() =>\n            this.props.logoutUser(() => {\n              Router.push(\"/\");\n            })\n          }\n        >\n          Logout\n        </Button>\n        <div\n          style={{\n            fontSize: \"2vw\",\n            fontFamily: \"BlinkMacSystemFont\"\n          }}\n        >\n          Campaigns\n        </div>\n        <Button\n          type=\"link\"\n          style={{ fontSize: \"1vw\" }}\n          onClick={() => {\n            this.setState({ visible: true });\n          }}\n        >\n          {\" \"}\n          Create Campaign{\" \"}\n        </Button>\n\n        {this.renderCampaigns()}\n\n        <Modal\n          visible={this.state.visible}\n          onCancel={() => {\n            this.setState({ visible: false });\n          }}\n          footer={null}\n        >\n          <Input\n            placeholder=\"Title\"\n            style={{ marginTop: \"1vw\" }}\n            onChange={event => {\n              this.setState({ title: event.target.value });\n            }}\n          />\n          <Input\n            placeholder=\"Description\"\n            style={{ marginTop: \"1vw\" }}\n            onChange={event => {\n              this.setState({ description: event.target.value });\n            }}\n          />\n          <Input\n            placeholder=\"Quantity\"\n            style={{ marginTop: \"1vw\" }}\n            onChange={event => {\n              this.setState({ quantity: event.target.value });\n            }}\n          />\n          <Input\n            placeholder=\"Price\"\n            style={{ marginTop: \"1vw\" }}\n            onChange={event => {\n              this.setState({ price: event.target.value });\n            }}\n          />\n\n          <div\n            style={{\n              display: \"flex\",\n              justifyContent: \"flex-end\",\n              marginTop: 10\n            }}\n          >\n            <Button\n              type=\"primary\"\n              onClick={async () => {\n                axios.defaults.headers.common[\n                  \"Authorization\"\n                ] = localStorage.getItem(\"jwtToken\");\n\n                await axios({\n                  method: \"post\",\n                  url: \"http://localhost:5000/api/shop/request\",\n                  data: {\n                    title: this.state.title,\n                    description: this.state.description,\n                    quantity: this.state.quantity,\n                    price: this.state.price\n                  }\n                });\n\n                this.setState({ visible: false });\n                this.props.getCampaigns();\n              }}\n            >\n              Submit\n            </Button>\n          </div>\n        </Modal>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  const { auth } = state;\n  return { auth };\n};\n\nexport default connect(\n  mapStateToProps,\n  { logoutUser, getUser, getCampaigns }\n)(Dashboard);\n"]},"metadata":{},"sourceType":"module"}