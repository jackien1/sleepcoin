{"ast":null,"code":"import \"antd/lib/modal/style/css\";\nimport _Modal from \"antd/lib/modal\";\nimport \"antd/lib/button/style/css\";\nimport _Button from \"antd/lib/button\";\nimport _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport \"antd/lib/input/style/css\";\nimport _Input from \"antd/lib/input\";\nimport \"antd/lib/tag/style/css\";\nimport _Tag from \"antd/lib/tag\";\nimport \"antd/lib/card/style/css\";\nimport _Card from \"antd/lib/card\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/Users/jackieni/dev/hackathon/sleepcoin/sleepcoin-react/pages/dashboard.js\";\nvar __jsx = React.createElement;\nimport React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { logoutUser, getUser, getCampaigns } from \"../redux/actions\";\nimport axios from \"axios\";\nimport Router from \"next/router\";\nimport Web3 from \"web3\";\n\nvar Dashboard =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Dashboard, _Component);\n\n  function Dashboard() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Dashboard);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Dashboard)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      value: \"\",\n      visible: false,\n      title: \"\",\n      description: \"\",\n      quantity: \"\",\n      price: \"\"\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"renderCampaigns\", function () {\n      return _this.props.auth.campaigns.map(function (campaign) {\n        return __jsx(_Card, {\n          title: campaign.meta[\"0\"],\n          style: {\n            width: 300,\n            marginTop: 10\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 27\n          },\n          __self: this\n        }, __jsx(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 28\n          },\n          __self: this\n        }, \" \", campaign.meta[\"1\"], \" \"), __jsx(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 29\n          },\n          __self: this\n        }, \" \", campaign.meta[\"2\"], \" \"), __jsx(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 30\n          },\n          __self: this\n        }, \" \", campaign.meta[\"3\"], \" \"), __jsx(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 31\n          },\n          __self: this\n        }, \" \", campaign.meta[\"4\"], \" \"), campaign.meta[\"5\"].map(function (person) {\n          return __jsx(\"div\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 33\n            },\n            __self: this\n          }, \" person \");\n        }));\n      });\n    });\n\n    return _this;\n  }\n\n  _createClass(Dashboard, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.props.getUser();\n      this.props.getCampaigns();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      console.log(this.props.auth.campaigns);\n      var web3 = new Web3(\"https://rinkeby.infura.io/v3/964044c29b2a4c4794a25b2af7175ccf\");\n      return __jsx(\"div\", {\n        style: {\n          display: \"flex\",\n          justifyContent: \"center\",\n          alignItems: \"center\",\n          flexDirection: \"column\",\n          height: \"100vh\",\n          width: \"100vw\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47\n        },\n        __self: this\n      }, __jsx(\"div\", {\n        style: {\n          fontWeight: \"bold\",\n          fontSize: \"4vw\",\n          fontFamily: \"BlinkMacSystemFont\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }, \"Dashboard\"), __jsx(_Tag, {\n        color: \"magenta\",\n        style: {\n          marginTop: \"1vw\",\n          fontSize: \"1vw\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }, \"Address: \", this.props.auth.user.address), __jsx(_Tag, {\n        color: \"red\",\n        style: {\n          marginTop: \"1vw\",\n          fontSize: \"1vw\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }, \"Balance:\", \" \", this.props.auth.user.dappBalance ? this.props.auth.user.dappBalance : \"0\"), __jsx(_Tag, {\n        color: \"volcano\",\n        style: {\n          marginTop: \"1vw\",\n          fontSize: \"1vw\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }, \"Ether Address: \", this.props.auth.user.ethAddress), __jsx(_Tag, {\n        color: \"orange\",\n        style: {\n          marginTop: \"1vw\",\n          fontSize: \"1vw\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, \"Ether Balance:\", \" \", this.props.auth.user.ethBalance ? this.props.auth.user.ethBalance : \"0\"), __jsx(\"div\", {\n        style: {\n          display: \"flex\",\n          justifyContent: \"center\",\n          alignItems: \"center\",\n          marginTop: \"1vw\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, __jsx(_Input, {\n        placeholder: \"Value\",\n        onChange: function onChange(event) {\n          _this2.setState({\n            value: event.target.value\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }), __jsx(_Button, {\n        type: \"link\",\n        style: {\n          fontSize: \"1vw\",\n          color: \"#1890ff\"\n        },\n        onClick: function _callee() {\n          return _regeneratorRuntime.async(function _callee$(_context) {\n            while (1) {\n              switch (_context.prev = _context.next) {\n                case 0:\n                  axios.defaults.headers.common[\"Authorization\"] = localStorage.getItem(\"jwtToken\");\n                  _context.next = 3;\n                  return _regeneratorRuntime.awrap(axios({\n                    method: \"post\",\n                    url: \"http://localhost:5000/api/gateway/addBalance\",\n                    data: {\n                      value: web3.utils.toWei(_this2.state.value.toString(), \"ether\")\n                    }\n                  }));\n\n                case 3:\n                case \"end\":\n                  return _context.stop();\n              }\n            }\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }, \"Add Funds\")), __jsx(_Button, {\n        type: \"link\",\n        style: {\n          fontSize: \"1vw\",\n          color: \"red\"\n        },\n        onClick: function onClick() {\n          return _this2.props.logoutUser(function () {\n            Router.push(\"/\");\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }, \"Logout\"), __jsx(\"div\", {\n        style: {\n          fontSize: \"2vw\",\n          fontFamily: \"BlinkMacSystemFont\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      }, \"Campaigns\"), __jsx(_Button, {\n        type: \"link\",\n        style: {\n          fontSize: \"1vw\"\n        },\n        onClick: function onClick() {\n          _this2.setState({\n            visible: true\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137\n        },\n        __self: this\n      }, \" \", \"Create Campaign\", \" \"), this.renderCampaigns(), __jsx(_Modal, {\n        visible: this.state.visible,\n        onCancel: function onCancel() {\n          _this2.setState({\n            visible: false\n          });\n        },\n        footer: null,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150\n        },\n        __self: this\n      }, __jsx(_Input, {\n        placeholder: \"Title\",\n        style: {\n          marginTop: \"1vw\"\n        },\n        onChange: function onChange(event) {\n          _this2.setState({\n            title: event.target.value\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157\n        },\n        __self: this\n      }), __jsx(_Input, {\n        placeholder: \"Description\",\n        style: {\n          marginTop: \"1vw\"\n        },\n        onChange: function onChange(event) {\n          _this2.setState({\n            description: event.target.value\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164\n        },\n        __self: this\n      }), __jsx(_Input, {\n        placeholder: \"Quantity\",\n        style: {\n          marginTop: \"1vw\"\n        },\n        onChange: function onChange(event) {\n          _this2.setState({\n            quantity: event.target.value\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 171\n        },\n        __self: this\n      }), __jsx(_Input, {\n        placeholder: \"Price\",\n        style: {\n          marginTop: \"1vw\"\n        },\n        onChange: function onChange(event) {\n          _this2.setState({\n            price: event.target.value\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 178\n        },\n        __self: this\n      }), __jsx(\"div\", {\n        style: {\n          display: \"flex\",\n          justifyContent: \"flex-end\",\n          marginTop: 10\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 186\n        },\n        __self: this\n      }, __jsx(_Button, {\n        type: \"primary\",\n        onClick: function _callee2() {\n          return _regeneratorRuntime.async(function _callee2$(_context2) {\n            while (1) {\n              switch (_context2.prev = _context2.next) {\n                case 0:\n                  axios.defaults.headers.common[\"Authorization\"] = localStorage.getItem(\"jwtToken\");\n                  _context2.next = 3;\n                  return _regeneratorRuntime.awrap(axios({\n                    method: \"post\",\n                    url: \"http://localhost:5000/api/shop/request\",\n                    data: {\n                      title: _this2.state.title,\n                      description: _this2.state.description,\n                      quantity: _this2.state.quantity,\n                      price: _this2.state.price\n                    }\n                  }));\n\n                case 3:\n                  _this2.setState({\n                    visible: false\n                  });\n\n                  _this2.props.getCampaigns();\n\n                case 5:\n                case \"end\":\n                  return _context2.stop();\n              }\n            }\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 193\n        },\n        __self: this\n      }, \"Submit\"))));\n    }\n  }]);\n\n  return Dashboard;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  var auth = state.auth;\n  return {\n    auth: auth\n  };\n};\n\nexport default connect(mapStateToProps, {\n  logoutUser: logoutUser,\n  getUser: getUser,\n  getCampaigns: getCampaigns\n})(Dashboard);","map":{"version":3,"sources":["/Users/jackieni/dev/hackathon/sleepcoin/sleepcoin-react/pages/dashboard.js"],"names":["React","Component","connect","logoutUser","getUser","getCampaigns","axios","Router","Web3","Dashboard","value","visible","title","description","quantity","price","props","auth","campaigns","map","campaign","meta","width","marginTop","person","console","log","web3","display","justifyContent","alignItems","flexDirection","height","fontWeight","fontSize","fontFamily","user","address","dappBalance","ethAddress","ethBalance","event","setState","target","color","defaults","headers","common","localStorage","getItem","method","url","data","utils","toWei","state","toString","push","renderCampaigns","mapStateToProps"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { Tag, Button, Input, Modal, Card } from \"antd\";\nimport { connect } from \"react-redux\";\nimport { logoutUser, getUser, getCampaigns } from \"../redux/actions\";\nimport axios from \"axios\";\nimport Router from \"next/router\";\nimport Web3 from \"web3\";\n\nclass Dashboard extends Component {\n  componentDidMount() {\n    this.props.getUser();\n    this.props.getCampaigns();\n  }\n\n  state = {\n    value: \"\",\n    visible: false,\n    title: \"\",\n    description: \"\",\n    quantity: \"\",\n    price: \"\"\n  };\n\n  renderCampaigns = () => {\n    return this.props.auth.campaigns.map(campaign => {\n      return (\n        <Card title={campaign.meta[\"0\"]} style={{ width: 300, marginTop: 10 }}>\n          <div> {campaign.meta[\"1\"]} </div>\n          <div> {campaign.meta[\"2\"]} </div>\n          <div> {campaign.meta[\"3\"]} </div>\n          <div> {campaign.meta[\"4\"]} </div>\n          {campaign.meta[\"5\"].map(person => {\n            return <div> person </div>;\n          })}\n        </Card>\n      );\n    });\n  };\n\n  render() {\n    console.log(this.props.auth.campaigns);\n    const web3 = new Web3(\n      \"https://rinkeby.infura.io/v3/964044c29b2a4c4794a25b2af7175ccf\"\n    );\n\n    return (\n      <div\n        style={{\n          display: \"flex\",\n          justifyContent: \"center\",\n          alignItems: \"center\",\n          flexDirection: \"column\",\n          height: \"100vh\",\n          width: \"100vw\"\n        }}\n      >\n        <div\n          style={{\n            fontWeight: \"bold\",\n            fontSize: \"4vw\",\n            fontFamily: \"BlinkMacSystemFont\"\n          }}\n        >\n          Dashboard\n        </div>\n        <Tag color=\"magenta\" style={{ marginTop: \"1vw\", fontSize: \"1vw\" }}>\n          Address: {this.props.auth.user.address}\n        </Tag>\n        <Tag color=\"red\" style={{ marginTop: \"1vw\", fontSize: \"1vw\" }}>\n          Balance:{\" \"}\n          {this.props.auth.user.dappBalance\n            ? this.props.auth.user.dappBalance\n            : \"0\"}\n        </Tag>\n        <Tag color=\"volcano\" style={{ marginTop: \"1vw\", fontSize: \"1vw\" }}>\n          Ether Address: {this.props.auth.user.ethAddress}\n        </Tag>\n        <Tag color=\"orange\" style={{ marginTop: \"1vw\", fontSize: \"1vw\" }}>\n          Ether Balance:{\" \"}\n          {this.props.auth.user.ethBalance\n            ? this.props.auth.user.ethBalance\n            : \"0\"}\n        </Tag>\n        <div\n          style={{\n            display: \"flex\",\n            justifyContent: \"center\",\n            alignItems: \"center\",\n            marginTop: \"1vw\"\n          }}\n        >\n          <Input\n            placeholder=\"Value\"\n            onChange={event => {\n              this.setState({ value: event.target.value });\n            }}\n          />\n          <Button\n            type=\"link\"\n            style={{ fontSize: \"1vw\", color: \"#1890ff\" }}\n            onClick={async () => {\n              axios.defaults.headers.common[\n                \"Authorization\"\n              ] = localStorage.getItem(\"jwtToken\");\n\n              await axios({\n                method: \"post\",\n                url: \"http://localhost:5000/api/gateway/addBalance\",\n                data: {\n                  value: web3.utils.toWei(this.state.value.toString(), \"ether\")\n                }\n              });\n            }}\n          >\n            Add Funds\n          </Button>\n        </div>\n        <Button\n          type=\"link\"\n          style={{ fontSize: \"1vw\", color: \"red\" }}\n          onClick={() =>\n            this.props.logoutUser(() => {\n              Router.push(\"/\");\n            })\n          }\n        >\n          Logout\n        </Button>\n        <div\n          style={{\n            fontSize: \"2vw\",\n            fontFamily: \"BlinkMacSystemFont\"\n          }}\n        >\n          Campaigns\n        </div>\n        <Button\n          type=\"link\"\n          style={{ fontSize: \"1vw\" }}\n          onClick={() => {\n            this.setState({ visible: true });\n          }}\n        >\n          {\" \"}\n          Create Campaign{\" \"}\n        </Button>\n\n        {this.renderCampaigns()}\n\n        <Modal\n          visible={this.state.visible}\n          onCancel={() => {\n            this.setState({ visible: false });\n          }}\n          footer={null}\n        >\n          <Input\n            placeholder=\"Title\"\n            style={{ marginTop: \"1vw\" }}\n            onChange={event => {\n              this.setState({ title: event.target.value });\n            }}\n          />\n          <Input\n            placeholder=\"Description\"\n            style={{ marginTop: \"1vw\" }}\n            onChange={event => {\n              this.setState({ description: event.target.value });\n            }}\n          />\n          <Input\n            placeholder=\"Quantity\"\n            style={{ marginTop: \"1vw\" }}\n            onChange={event => {\n              this.setState({ quantity: event.target.value });\n            }}\n          />\n          <Input\n            placeholder=\"Price\"\n            style={{ marginTop: \"1vw\" }}\n            onChange={event => {\n              this.setState({ price: event.target.value });\n            }}\n          />\n\n          <div\n            style={{\n              display: \"flex\",\n              justifyContent: \"flex-end\",\n              marginTop: 10\n            }}\n          >\n            <Button\n              type=\"primary\"\n              onClick={async () => {\n                axios.defaults.headers.common[\n                  \"Authorization\"\n                ] = localStorage.getItem(\"jwtToken\");\n\n                await axios({\n                  method: \"post\",\n                  url: \"http://localhost:5000/api/shop/request\",\n                  data: {\n                    title: this.state.title,\n                    description: this.state.description,\n                    quantity: this.state.quantity,\n                    price: this.state.price\n                  }\n                });\n\n                this.setState({ visible: false });\n                this.props.getCampaigns();\n              }}\n            >\n              Submit\n            </Button>\n          </div>\n        </Modal>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  const { auth } = state;\n  return { auth };\n};\n\nexport default connect(\n  mapStateToProps,\n  { logoutUser, getUser, getCampaigns }\n)(Dashboard);\n"]},"metadata":{},"sourceType":"module"}