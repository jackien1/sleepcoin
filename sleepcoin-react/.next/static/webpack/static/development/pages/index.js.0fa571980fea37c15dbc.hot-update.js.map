{"version":3,"file":"static/webpack/static/development/pages/index.js.0fa571980fea37c15dbc.hot-update.js","sources":["webpack:///./redux/actions/auth_actions.js"],"sourcesContent":["import * as types from \"../types\";\nimport axios from \"axios\";\nimport jwt_decode from \"jwt-decode\";\n\nexport const registerUser = (user, callback) => async dispatch => {\n  try {\n    const res = await axios({\n      method: \"post\",\n      url: \"https://e034fc0d.ngrok.io/api/auth/registerAdvertiser\",\n      data: { ...user }\n    });\n\n    const { token } = res.data;\n    localStorage.setItem(\"jwtToken\", token);\n    const decoded = jwt_decode(token);\n    dispatch(setCurrentUser(decoded));\n    callback();\n  } catch (err) {\n    console.log(err);\n  }\n};\n\nexport const loginUser = (user, callback) => async dispatch => {\n  try {\n    const res = await axios({\n      method: \"post\",\n      url: \"http://localhost:5000/api/auth/login\",\n      data: { ...user }\n    });\n\n    const { token } = res.data;\n    localStorage.setItem(\"jwtToken\", token);\n    const decoded = jwt_decode(token);\n    dispatch(setCurrentUser(decoded));\n    callback();\n  } catch (err) {\n    console.log(err);\n  }\n};\n\nexport const setCurrentUser = decoded => {\n  return {\n    type: types.SET_CURRENT_USER,\n    payload: decoded\n  };\n};\n\nexport const logoutUser = callback => dispatch => {\n  localStorage.removeItem(\"jwtToken\");\n  dispatch(setCurrentUser({}));\n  callback ? callback() : null;\n};\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AAHA;AACA;AAHA;AAEA;AAMA;AACA;AACA;AACA;AACA;AAZA;AAAA;AACA;AADA;AAAA;AAAA;AAcA;AACA;AAfA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAkBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AAHA;AACA;AAHA;AAEA;AAMA;AACA;AACA;AACA;AACA;AAZA;AAAA;AACA;AADA;AAAA;AAAA;AAcA;AACA;AAfA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAkBA;AACA;AACA;AACA;AAFA;AAIA;AAEA;AAAA;AACA;AACA;AACA;AACA;AAJA;;;;A","sourceRoot":""}